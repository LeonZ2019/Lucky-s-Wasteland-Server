private ["_billBoards"];

_billBoards = [["Land_Billboard_03_duckit_f",[7786.19,3267.2,6.33007],323.716],["Land_Billboard_03_action_f",[7819.51,3122.48,5.82964],346.334],["Land_Billboard_02_surreal_f",[7794.19,3105.74,6.27],239.601],["Land_Billboard_03_koke_f",[7678.57,3484.07,8.94631],215.139],["Land_Billboard_03_cheese_f",[8052.9,3054.33,16.5136],114.952],["Land_Billboard_02_monte_f",[7705.29,3688.49,25.6101],303.394],["Land_Billboard_02_carrental_f",[8231.47,3272.05,21.7711],233.545],["Land_Billboard_02_monte_f",[7672.5,3740.93,25.6262],219.57],["Land_Billboard_02_wine_f",[8057.4,3677.13,58.0599],271.56],["Land_Billboard_03_supermarket_f",[8294.28,3350.63,37.0089],34.9443],["Land_Billboard_02_wine_f",[8159.35,3629.93,48.9258],345.612],["Land_Billboard_02_redstone_f",[8326.24,3112.59,19.3898],92.3235],["Land_Billboard_03_koke_f",[7459.24,3786.33,21.1292],66.7999],["Land_Billboard_02_surreal_f",[8227.26,3755.77,43.9878],7.78127],["Land_Billboard_03_chevre_f",[8159.95,3888.75,43.514],166.462],["Land_Billboard_03_koke_f",[8206.55,3859.93,43.0829],359.347],["Land_Billboard_03_ygont_f",[8215.67,3891.34,42.95],58.6052],["Land_Billboard_03_bluking_f",[7615.56,4006.75,32.4562],255.787],["Land_Billboard_03_blank_f",[7750.87,4027.8,34.6139],95.5686],["Land_Billboard_02_ion_f",[8085.71,4014.47,40.7699],354.299],["Land_Billboard_02_carrental_f",[8010.2,4053.03,39.5467],93.8497],["Land_Billboard_02_redstone_f",[8023.5,4052.83,39.8354],308.138],["Land_Billboard_03_olives_f",[8026.4,4056.9,39.8499],309.382],["Land_Billboard_04_mars_lyfe_f",[7943.97,4089.26,36.4424],133.434],["Land_Billboard_02_carrental_f",[8403.14,3917.34,4.58492],273.394],["Land_Billboard_02_surreal_f",[7638.68,4839.08,29.5355],51.8999],["Land_Billboard_03_koke_f",[6110.78,3534.68,59.7015],278.857],["Land_Billboard_02_carrental_f",[5801.72,3522.6,54.8133],97.9332],["Land_Billboard_03_chevre_f",[5524.27,3498.5,70.2512],249.005],["Land_Billboard_03_mars_f",[5480.49,3504.41,71.0475],151.041],["Land_Billboard_03_winery_f",[5271.8,3579.99,66.4955],157.96],["Land_Billboard_03_argois_f",[7122.27,5914.54,72.6274],37.7978],["Land_Billboard_03_koke_f",[5037.51,3032.2,41.1486],164.312],["Land_Billboard_03_ygont_f",[5044.19,4474.61,81.7085],45.9066],["Land_Billboard_02_blank_f",[5034.7,4483.46,81.8093],271.486],["Land_Billboard_02_ion_f",[7072.98,6300.43,83.7951],193.571],["Land_Billboard_03_bluking_f",[7032.94,6820.26,99.7422],10.0216],["Land_Billboard_02_carrental_f",[7048.16,7072.94,79.7458],2.51784],["Land_Billboard_03_koke_f",[7044.09,7204.33,79.7821],211.52],["Land_Billboard_02_mars2_f",[3742.8,3154.99,19.6685],213.235],["Land_Billboard_02_surreal_f",[6864.18,7243.17,92.8011],340.894],["Land_Billboard_02_ion_f",[3695.4,3156.1,14.2746],293.929],["Land_Billboard_03_blank_f",[3619.26,3266.68,3.05405],212.908],["Land_Billboard_03_koke_f",[5677.63,6984.33,335.475],123.013],["Land_Billboard_02_mars2_f",[5679.76,6990.17,335.56],78.3911],["Land_Billboard_03_aan_f",[7119.15,7689.68,165.74],77.1088],["Land_Billboard_02_ion_f",[7058.53,7694.03,165.74],155.403],["Land_Billboard_02_mars2_f",[7062.28,7695.73,165.74],153.788],["Land_Billboard_03_blank_f",[7070.57,7699.15,165.74],155.327],["Land_Billboard_03_maskrtnik_f",[7077.42,7702.35,165.74],155.228],["Land_Billboard_03_supermarket_f",[7097.26,7710.38,165.74],152.992],["Land_Billboard_03_pills_f",[7103.95,7713.65,165.74],154.455],["Land_Billboard_02_carrental_f",[7138.57,7738.74,165.915],56.5745],["Land_Billboard_02_redstone_f",[7201.71,7768.42,167.56],258.592],["Land_Billboard_02_surreal_f",[7277.49,7842.48,167.56],198.287],["Land_Billboard_03_ygont_f",[4457.44,6454.78,409.516],99.5515],["Land_Billboard_04_supermarket_maskrtnik_f",[7277.49,7866.45,167.478],189.927],["Land_Billboard_02_carrental_f",[7394.55,8126.91,169.24],125.519],["Land_Billboard_03_koke_f",[4795.57,7134.47,413.447],232.073],["Land_Billboard_02_chevre2_f",[3046.02,5879.48,212.328],266.47],["Land_Billboard_03_getlost_f",[7296.82,8666.08,99.6665],9.93254],["Land_Billboard_02_chevre2_f",[3001.06,5913.42,211.454],182.532],["Land_Billboard_02_redstone_f",[3212.27,6276.57,224.528],197.418],["Land_Billboard_02_ion_f",[3125.93,6324.44,224.32],192.777],["Land_Billboard_02_carrental_f",[3118.42,6326.16,224.209],189.985],["Land_Billboard_03_lyfe_f",[3052.09,6247.55,220.65],35.3614],["Land_Billboard_03_bluking_f",[6349.88,8705.13,115.448],86.3806],["Land_Billboard_02_chernarus_f",[6019.08,8615.51,125.12],327.714],["Land_Billboard_03_supermarket_f",[6991.79,8858.22,104.108],94.9727],["Land_Billboard_04_koke_redstone_f",[6656.13,8814.08,108.937],81.4715],["Land_Billboard_02_surreal_f",[7193.2,8923.27,101.949],322.717],["Land_Billboard_02_carrental_f",[4842.03,8168.42,416.92],219.664],["Land_Billboard_03_pate_f",[3161.92,6803.19,228.297],337.453],["Land_Billboard_02_ion_f",[6989.88,9096.28,126.445],336.191],["Land_Billboard_03_lyfe_f",[6908.9,9136.36,141.855],158.513],["Land_Billboard_03_action_f",[7929.52,9313.95,33.7622],116.834],["Land_Billboard_03_supermarket_f",[8148.87,9489.65,30.0675],203.127],["Land_Billboard_02_redstone_f",[5095.39,9035.39,349.579],241.887],["Land_Billboard_03_mars_f",[5093.22,9039.58,349.818],241.473],["Land_Billboard_02_carrental_f",[8099.35,9787.78,29.3864],359.931],["Land_Billboard_03_blank_f",[8111.73,9788.18,29.3706],0],["Land_Billboard_03_plane_f",[8118.78,9788.26,29.4255],358.592],["Land_Billboard_03_bluking_f",[8146.55,9867.56,29.3859],1.42848],["Land_Billboard_02_surreal_f",[3585.82,8500.71,128.866],222.773],["Land_Billboard_02_mars2_f",[5993.69,9940.45,170.557],121.422],["Land_Billboard_02_carrental_f",[5998.07,9953.34,170.885],104.287],["Land_Billboard_03_ionbase_f",[8173.79,10214.8,28.8919],89.7373],["Land_Billboard_02_carrental_f",[3068.49,8463.15,4.01119],134.356],["Land_Billboard_03_argois_f",[955.744,11893.2,5.26235],51.2028],["Land_Billboard_02_wine_f",[953.409,11897.7,6.41983],83.3941],["Land_Billboard_02_chernarus_f",[721.641,12105.9,28.92],277.24],["Land_Billboard_03_getlost_f",[721.608,12111.1,29.3647],275.733]];
_customBillboards = [["Land_Billboard_03_bluking_F",[6631.75,6068,151.067],280],["Land_Billboard_03_koke_F",[6631,6061.5,151.37],280],["Land_Billboard_03_argois_F",[6629.75,6055.25,151.413],280],["Land_Billboard_02_monte_F",[7133.25,6089.5,71.25],345],["Land_Billboard_02_redstone_F",[7044.25,7108,79],100],["Land_Billboard_02_surreal_F",[5557.5,7008,335.25],235],["Land_Billboard_02_mars2_F",[5554,7013,335.25],235],["Land_Billboard_04_supermarket_maskrtnik_F",[7232.25,5424.5,27.6414],165],["Land_Billboard_02_mars2_F",[7277,7958.75,167],90],["Land_Billboard_02_wine_F",[6003.75,8593.75,124.5],110],["Land_Billboard_02_wine_F",[5570.75,4227.5,103.5],185],["Land_Billboard_04_supermarket_maskrtnik_F",[5598,4049.25,83.75],315],["Land_Billboard_02_leader_F",[5899,3607.75,54.5],270],["Land_Billboard_02_redstone_F",[3126.75,6395.25,224],15],["Land_Billboard_03_argois_F",[8436,3760.5,4.44],0],["Land_Billboard_03_action_F",[3605.75,8487.5,129.609],225],["Land_Billboard_04_supermarket_maskrtnik_F",[8148,9634.25,29.37],320],["Land_Billboard_03_ionbase_F",[8065,9695,30.258],0],["Land_Billboard_03_aan_F",[8071,9695,30.1888],0],["Land_Billboard_03_mars_F",[8077,9695,30.0704],0],["Land_Billboard_02_monte_F",[8177.5,3115.5,21.25],215],["Land_Billboard_02_leader_F",[5433,2771.5,42.75],320],["Land_Billboard_02_carrental_F",[9337.5,3741.25,3],180],["Land_Billboard_02_leader_F",[9340.5,3741.25,3],180],["Land_Billboard_02_ion_F",[3734.5,3257.75,17.5],75],["Land_Billboard_03_ionbase_F",[6308,10709.3,114.837],45],["Land_Billboard_03_lyfe_F",[5550.75,11184.8,71.76],280],["Land_Billboard_02_surreal_F",[1610,4615,2.25],260],["Land_Billboard_03_ionbase_F",[10194.8,2156,17.8685],120],["Land_Billboard_02_monte_F",[1075.5,670.75,3.5],95],["Land_Billboard_03_plane_F",[740.75,12113.8,28.92],95],["Land_Billboard_03_pills_F",[741.5,12119.8,28.92],95],["Land_Billboard_02_chevre2_F",[803.5,521.5,21.75],90],["Land_Billboard_02_wine_F",[803.5,518.5,21.75],90]];

_paidAds = []; // ["76561198301091480", 1001, ["ads.paa"], [2023,5,1]] = [steamID, id, [image], run ads till] image is selection if having 2
// dimension for image 2048x1024
// systemTimeUTC [2023,4,24] = [year, month, day]

// hide all exist billboard
_axis = worldSize / 2;
_center = [_axis, _axis, 0];
_defaultBillboards = nearestTerrainObjects [_center, ["House"], worldSize, true] select {"billboard" in (str _x)};
{
	_x hideObjectGlobal true;
} forEach _defaultBillboards;

A3W_Billboards = [];
// create object insted of simple object, allow to edit
{
	_bb = createVehicle [_x select 0, ASLtoATL (_x select 1), [], 0, "NONE"];
	_bb setDir (_x select 2);
	_bb allowDamage false;
	_bb setPosASL (_x select 1);
	_bb setVariable ["billboardIndex", _forEachIndex, true]; // simple identify
	_bb setVariable ["steamOwnerID", "0", true]; // 0 mean no one
	A3W_Billboards pushBack _bb;
} forEach _billBoards;
// why? Because if someone need specific position but need identify
{
	_bb = createVehicle [_x select 0, ASLtoATL (_x select 1), [], 0, "NONE"];
	_bb setDir (_x select 2);
	_bb allowDamage false;
	_bb setPosASL (_x select 1);
	_bb setVariable ["billboardIndex", _forEachIndex + 1000, true]; // start with 1000
	_bb setVariable ["steamOwnerID", "0", true]; // 0 mean no one
	A3W_Billboards pushBack _bb;
} forEach _customBillboards;

// apply spartan texture
/*{
	if (_x isKindOf "Billboard_04_base_F") then
	{ // 2 textures
		_x setObjectTextureGlobal [0, ""];
		_x setObjectTextureGlobal [1, ""];
	} else
	{ // 1 texture
		_x setObjectTextureGlobal [0, ""];
	};
} forEach A3W_Billboards;*/

// apply paid texture
{
	params ["_steamID", "_id", "_textures", "_validTill"];
	_billboard = A3W_Billboards select { (_x getVariable "billboardIndex") == _id };
	if (count _billboard == 1) then
	{
		_valid = false;
		_timeNow = systemTimeUTC; // keep until server restart
		{
			if (_x > (_timeNow select _forEachIndex)) exitWith
			{
				_valid = true;
			};
		} forEach _validTill;
		if (_valid) then
		{
			_billboard = _billboard select 0;
			_billboard setVariable ["steamOwnerID", _steamID, true];
			{
				_billboard setObjectTextureGlobal [_forEachIndex, _x];
			} forEach _textures;
		};
	};
} forEach _paidAds;

/*
_billboard = nearestObjects [[worldSize / 2, worldSize / 2, 0], ["Billboard_04_base_F","Billboard_03_base_F", "Billboard_02_base_F"], worldSize, true];
_billboard apply {[typeOf _x, getPosASL _x, direction _x]}
*/